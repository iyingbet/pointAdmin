{"version":3,"sources":["assets/images/logo.png","config/index.js","constants/routers.js","constants/enum.js","utils/history.js","graphql/Query.js","pages/Layout/HeaderView.js","components/common/LoadingView.js","components/common/ErrorView.js","pages/Layout/LeftSider.js","pages/Layout/LayoutView.js","graphql/Mutation.js","pages/Auth/SignIn.js","pages/Result/NoAuth.js","pages/Result/NoFound.js","pages/Account/ChangePW.js","components/MatchType/TypeList.js","components/MatchType/TypeEdit.js","pages/Match/GameType.js","components/MatchList/ModalCheck.js","components/MatchList/ListView.js","components/MatchList/TeamInput.js","components/MatchList/TypeSelect.js","components/MatchList/TimeSelect.js","components/MatchList/EditView.js","pages/Match/MatchList.js","components/User/Search.js","utils/time.js","components/User/Result.js","components/User/ModalList.js","components/User/ModalManual.js","pages/User/ListView.js","components/Point/Search.js","components/Point/Result.js","pages/Point/ListView.js","components/Operator/ListView.js","components/Operator/EditView.js","pages/Operator/OperatorList.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","process","REACT_APP_API_URL","NODE_ENV","console","log","ApiUrl","root","signIn","signUp","changPW","matchList","matchHistory","gameType","matchTeam","userList","pointList","operator","home","LOCAL_STORAGE_KEY","MATCH_STATUS","DEFAULT","CHECKED","CANCELED","MATCH_STATUS_KEYS","POINT_TYPE","SIGNIN","BETOUT","BETWIN","BETCANCEL","FIRST","MANUAL","POINT_TYPE_KEYS","history","createBrowserHistory","basename","listen","location","url","pathname","search","hash","window","_czc","push","_hmt","ga","QUERY_ACCOUNT","gql","QUERY_OPERATORS","QUERY_MATCHES","QUERY_MATCH_TYPES","QUERY_USERS","QUERY_POINTS","ContainerView","styled","Header","TriggerIcon","FlexView","div","AccountText","span","HeaderView","props","collapsed","onCollapse","useQuery","fetchPolicy","data","account","menu","Item","to","routers","onClick","confirm","title","content","onOk","replace","onCancel","className","type","overlay","style","backgroundColor","size","icon","user_name","defaultProps","LoadingView","memo","ErrorView","UserView","InfoView","UserInfoView","loading","error","fontSize","lineHeight","LeftSider","auth","admin","match","user","Sider","trigger","collapsible","theme","mode","defaultSelectedKeys","defaultOpenKeys","SubMenu","key","localStorage","removeItem","Content","LayoutView","inComponent","useState","setCollapsed","minHeight","MUTATION_SIGNIN","MUTATION_CHANGE_PASSWORD","MUTATION_OPERATOR","MUTATION_OPERATOR_UPDATE","MUTATION_OPERATOR_DEL","MUTATION_MATCH_TYPE","MUTATION_MATCH_TYPE_UPDATE","MUTATION_MATCH_TYPE_DEL","MUTATION_MATCH","MUTATION_MATCH_UPDATE","MUTATION_MATCH_DEL","MUTATION_MATCH_CHECK","MUTATION_POINTS_MANUAL","LogoImg","img","FormView","SignInView","form","getFieldDecorator","validateFields","setLoading","useMutation","update","cache","setItem","token","doSignIn","src","LogoIcon","alt","onSubmit","e","preventDefault","err","values","variables","catch","rules","required","message","prefix","placeholder","htmlType","width","disabled","SignInForm","create","NoAuth","status","subTitle","NoFound","extra","ChangePW","getFieldValue","notification","info","description","doPassword","validator","rule","val","callback","PasswordForm","ItemView","EditButton","DelButton","TypeList","onEdit","refetch","delMatchType","matchTypes","map","item","type_id","type_img","type_name","find","v","okType","id","then","deleteMatchType","TypeEditForm","editObj","onBack","resetFields","createMatchType","readQuery","query","writeQuery","concat","createType","updateMatchType","updateType","typeInput","finally","initialValue","marginLeft","TypeEdit","showEdit","setShowEdit","setEditObj","obj","CheckdeModal","BodyView","RowView","TeamView","CheckedView","isShow","ModalCheck","visible","setVisible","doCheckMatch","confirmLoading","setConfirmLoading","winTeam","setWinTeam","endTime","setEndTime","rate","setRate","_id","format","setTimeout","okText","okButtonProps","team_a","team_name","team_img","team_b","showTime","defaultValue","onChange","time","min","max","step","value","ColumnView","TypeImg","TeamContainer","TeamName","TeamBetSum","StatusView","ListView","pollInterval","selectMatch","setSelectMatch","TimeView","useCallback","timeText","moment","Number","parseInt","team","odds","sum_points","matches","match_type","match_time","start_time","tournament","match_round","color","check","sum_win","sum_lost","sum_cancel","marginTop","handleCheck","deleteMatch","handleDel","TeamInput","ref","triggerChange","changedValue","target","TypeSelect","Option","TimeSelect","TeamInptView","forwardRef","TypeSelectView","TimeSelectView","attrs","labelCol","xs","sm","wrapperCol","EditViewForm","createMatch","doCreate","updateMatch","doUpdate","checkTeam","matchInput","label","offset","EditView","Search","setUserName","name","setName","handleSearch","addonBefore","onPressEnter","formatTime","timeStr","formatStr","ItemCard","ActionView","Result","setUser","setListVisible","setManualVisible","users","handlePointList","from","actions","points","sum","sign_day","day_num","last_time","columns","dataIndex","render","counts","ModalList","list","handleClose","dataSource","rowKey","index","pagination","WhiteView","ModalManual","setPoints","note","setNote","doManual","manualPoint","success","userName","listVisible","manualVisible","skip","setSearchData","setType","showArrow","minWidth","MyPagination","setCurrent","setPageSize","current","total","pageSize","bordered","create_time","hideOnSinglePage","pgCurrent","pgSize","searchData","SearchView","searchName","setSearchName","operators","delOperator","doDelete","handleEdit","checked","onConfirm","LeftView","RightView","editAuth","password","setPassword","setAuth","updateOperator","backReset","handleSubmit","OperatorList","App","path","SignIn","exact","Boolean","hostname","InMemoryCache","addTypename","client","ApolloClient","uri","request","operation","getItem","setContext","headers","device","authorization","onError","graphQLErrors","response","code","ReactDOM","locale","zhCN","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.e127988e.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAMAAAAL34HQAAAC91BMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////91dnnrdhKpqqvzpQj39/jxmAv6+vp6e36SkpXzownxlQurq62Jiozs7O2XmJrymwrynQmkpaf1rAezs7XznwnT09SvsLLwkQz0qQd3eHvuiA7ujg3vjA3rbwj1rwbreBTylgvufhDtexDviwzrdBD2sQXwjwyjpKahoqTviQ3rcQz0pgfqbAb//Pnx8fL1rgfqaQT//vyen6GZmZyNjpH2uQWUlZf9/f2nqKl9foHuhQ/98+i5ubutrrCbnJ+EhYiBgoX3uwXvhATu7u+2t7mRkZTugRD2tQXteAr19fXp6envhhDthA/ufwf8/Pz/+/T++PH99e3879387NnGx8iHiIvsdxLuhBDugxD1qwDOz9DLy83wmUnznQPh4uL98eHd3t7R0dL648j638G9vb/41bLxoljxkgzzmQvk5ebU1db86cOgoaPyrW7vjjP3tAf3wAPykwP0owLzlwLxjgLIycrDw8W0tbb40qr0un7thS/ugijqcBPugA/scwP5+fn++u3++OXa2tvX19j76dX75tDBwcP3zqX51Jj2x5j2wo31v4PztHjvkEL6yDjsfCD1sRnqbRbviQbtdgXpZgXwiwP878/527n63rT52qiYmJt3d3j2w3H0rU32ujXwkSHpYAP86q773Jf41Yz60X/72mvyqWj50Gfyp17seyz0qA7xmQf+9db76dD648798MastMH85J6YmZtzdnrwlUX4sjvzpiPvhh7wjxW3wtX757H1x5P94ob+3Xj0tmTvmlXwnU73wkvyoTD1nwHQ0NG1u8uYoK1xdXr/xV7/wFbypjH2vBDkp39zAAAAMHRSTlMA+vwGLMgDqPBO7HY6E/Mn95CiZ+7jxZmWJKVw2tXPrYJsQRvhvF5bSQiBgGAuML1F7ArZAAANv0lEQVR42tzQWQ6CMBRG4VvaUhmdkBRHwuALav79r84N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\"","/*\n * @Description: 全局配置\n * @Author: luke\n * @Date: 2019-12-24 17:37:04\n * @LastEditTime: 2020-02-25 14:12:10\n */\nexport const {\n  NODE_ENV,\n  REACT_APP_API_URL,\n} = process.env;\n\nconsole.log('NODE_ENV', process.env);\n\nexport const device = 'web';\n\n// 开发使用Api地址\nexport const ApiUrl = REACT_APP_API_URL;\n","export default {\n  root: '/',\n\n  // 登录注册\n  signIn: '/signIn',\n  signUp: '/signUp',\n  changPW: '/password',\n\n  // 比赛\n  matchList: '/match/list',\n  matchHistory: '/match/history',\n  gameType: '/game/type',\n  matchTeam: '/match/team',\n\n  // 用户\n  userList: '/user/list',\n\n  // 积分\n  pointList: '/point/list',\n\n  // 管理员\n  operator: '/operator',\n\n  // 统计\n  home: '/dashboard',\n};\n","// local storage key\nexport const LOCAL_STORAGE_KEY = {\n  // auth\n  AUTH_TOKEN: 'AUTH_TOKEN',\n};\n\n// session storage key\nexport const SESSION_STORAGE_KEY = {\n};\n\n// 比赛状态\nexport const MATCH_STATUS = {\n  DEFAULT: '未结算',\n  CHECKED: '已结算',\n  CANCELED: '已取消',\n};\nexport const MATCH_STATUS_KEYS = ['DEFAULT', 'CHECKED', 'CANCELED'];\n\n// 积分类型\nexport const POINT_TYPE = {\n  SIGNIN: '签到',\n  BETOUT: '投注扣款',\n  BETWIN: '投注盈利',\n  BETCANCEL: '投注退回',\n  FIRST: '首次',\n  MANUAL: '手动',\n};\nexport const POINT_TYPE_KEYS = ['SIGNIN', 'BETOUT', 'BETWIN', 'BETCANCEL', 'FIRST', 'MANUAL'];\n","/* eslint-disable no-underscore-dangle */\nimport { createBrowserHistory } from 'history';\n\nconst history = createBrowserHistory({ basename: '/' });\n\nhistory.listen((location) => {\n  const url = location.pathname + location.search + location.hash;\n\n  // cnzz 统计\n  if (window._czc) {\n    window._czc.push(['_trackPageview', url]);\n  }\n  // 百度统计\n  if (window._hmt) {\n    window._hmt.push(['_trackPageview', url]);\n  }\n\n  // 谷歌统计\n  if (window.ga) {\n    window.ga('set', 'page', url);\n    window.ga('send', 'pageview');\n  }\n});\n\nexport default history;\n","import { gql } from 'apollo-boost';\n// 账号信息\nexport const QUERY_ACCOUNT = gql`\n  query Account {\n    account {\n      _id\n      user_name\n      auth {\n        admin\n        match\n        user\n      }\n      active_history {\n        active_time\n        active_ip\n        active_ip_address\n      }\n      token\n    }\n  }\n`;\n// 管理员列表\nexport const QUERY_OPERATORS = gql`\n  query Operators($name: String) {\n    operators(name: $name) {\n      _id\n      user_name\n      create_at\n      update_at\n      auth {\n        admin\n        match\n        user\n      }\n    }\n  }\n`;\n// 比赛列表\nexport const QUERY_MATCHES = gql`\n  query Matches {\n    matches {\n      _id\n      tournament\n      match_type {\n        type_id\n        type_name\n        type_img\n      }\n      match_round\n      match_time {\n        start_time\n      }\n      team_a {\n        team_name\n        team_img\n        sum_points\n        odds\n      }\n      team_b {\n        team_name\n        team_img\n        sum_points\n        odds\n      }\n      win_team\n      check {\n        sum_win\n        sum_lost\n        sum_cancel\n      }\n      status\n    }\n  }\n`;\n// 比赛类型列表\nexport const QUERY_MATCH_TYPES = gql`\n  query MatchTypes {\n    matchTypes {\n      type_id\n      type_name\n      type_img\n    }\n  }\n`;\n// 用户列表\nexport const QUERY_USERS = gql`\n  query Users($name: String) {\n    users(name: $name) {\n      _id\n      from {\n        id\n        name\n      }\n      points {\n        sum\n        list{\n          type\n          create_time\n          counts\n          note\n          creater {\n            name\n          }\n        }\n      }\n      sign_day {\n        last_time\n        day_num\n      }\n    }\n  }\n`;\n// 积分列表\nexport const QUERY_POINTS = gql`\n  query Points($name: String, $type: [String]!, $current: Int!, $pageSize: Int!) {\n    points(name: $name, type: $type, current: $current, pageSize: $pageSize) {\n      current\n      total\n      pageSize\n      list {\n        user {\n          id\n          name\n        }\n        type\n        create_time\n        creater {\n          name\n        }\n        counts\n        note\n      }\n    }\n  }\n`;\n","import React from 'react';\nimport { useQuery } from '@apollo/react-hooks';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport { Link } from 'react-router-dom';\nimport {\n  Layout, Dropdown, Menu,\n  Icon, Avatar, Modal,\n} from 'antd';\n// constants\nimport routers from 'constants/routers';\n// utils\nimport history from 'utils/history';\nimport { QUERY_ACCOUNT } from 'graphql/Query';\n\nconst ContainerView = styled(Layout.Header)`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0 16px;\n  background-color: #fff;\n`;\n\nconst TriggerIcon = styled(Icon)`\n  font-size: 18px;\n  line-height: 64px;\n  padding: 0 8px;\n  cursor: pointer;\n  transition: color 0.3s;\n  &:hover {\n    color: #1890ff;\n  }\n`;\n\n// const BellView = styled.div`\n//   margin: 5px 20px 0 0;\n//   & i {\n//     font-size: 18px;\n//   }\n// `;\n\nconst FlexView = styled.div`\n  display: flex;\n  align-items: center;\n`;\n\nconst AccountText = styled.span`\n  font-size: 18px;\n  margin-left: 5px;\n`;\n\nconst HeaderView = (props) => {\n  const { collapsed, onCollapse } = props;\n  const { data: { account } = {} } = useQuery(QUERY_ACCOUNT, { fetchPolicy: 'network-only' });\n  if (!account) return null;\n  // 退出登录\n  const onSignOut = () => {\n    Modal.confirm({\n      title: '提示',\n      content: '确定要退出登录？',\n      onOk() {\n        history.replace(routers.signIn);\n      },\n      onCancel() {},\n    });\n  };\n\n  const menu = (\n    <Menu>\n      <Menu.Item>\n        <Link to={routers.changPW}>修改密码</Link>\n      </Menu.Item>\n      <Menu.Item onClick={onSignOut}>退出登录</Menu.Item>\n    </Menu>\n  );\n\n  return (\n    <ContainerView>\n      <TriggerIcon\n        className=\"trigger\"\n        type={collapsed ? 'menu-unfold' : 'menu-fold'}\n        onClick={onCollapse}\n      />\n      <FlexView>\n        {/* <BellView>\n          <Badge count={5} overflowCount={10}>\n            <Icon type=\"bell\" />\n          </Badge>\n        </BellView> */}\n        <Dropdown overlay={menu}>\n          <FlexView>\n            <Avatar style={{ backgroundColor: '#f56a00' }} size={23} icon=\"user\" />\n            <AccountText>{account.user_name}</AccountText>\n          </FlexView>\n        </Dropdown>\n      </FlexView>\n    </ContainerView>\n  );\n};\n\nHeaderView.defaultProps = {\n  collapsed: true,\n  onCollapse: () => null,\n};\n\nHeaderView.propTypes = {\n  collapsed: PropTypes.bool,\n  onCollapse: PropTypes.func,\n};\n\nexport default HeaderView;\n","import React, { memo } from 'react';\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\nimport { Spin } from 'antd';\n\nconst ContainerView = styled.div`\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst LoadingView = ({ style }) => (\n  <ContainerView style={style}>\n    <Spin />\n  </ContainerView>\n);\n\nLoadingView.defaultProps = {\n  style: {},\n};\n\nLoadingView.propTypes = {\n  style: PropTypes.objectOf(PropTypes.any),\n};\n\nexport default memo(LoadingView);\n","import React, { memo } from 'react';\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\nimport { Spin } from 'antd';\n\nconst ContainerView = styled.div`\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst ErrorView = ({ style }) => (\n  <ContainerView style={style}>\n    <Spin />\n  </ContainerView>\n);\n\nErrorView.defaultProps = {\n  style: {},\n};\n\nErrorView.propTypes = {\n  style: PropTypes.objectOf(PropTypes.any),\n};\n\nexport default memo(ErrorView);\n","/*\n * @Description: 左侧菜单组件\n * @Author: luke\n * @Date: 2019-12-23 18:13:08\n * @LastEditTime: 2020-02-21 18:16:58\n */\nimport React from 'react';\nimport { useQuery } from '@apollo/react-hooks';\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport {\n  Layout, Menu, Icon, Avatar, Modal,\n} from 'antd';\n// graphql\nimport { QUERY_ACCOUNT } from 'graphql/Query';\n// constants\nimport routers from 'constants/routers';\nimport { LOCAL_STORAGE_KEY } from 'constants/enum';\n// utils\nimport history from 'utils/history';\n// component\nimport LoadingView from 'components/common/LoadingView';\nimport ErrorView from 'components/common/ErrorView';\n\nconst UserView = styled.div`\n  display: flex;\n  justify-content: ${(props) => (props.collapsed ? 'center' : 'flex-start')};\n  align-items: center;\n  margin: 12px;\n`;\n\nconst InfoView = styled.div`\n  display: flex;\n  flex-direction: column;\n  padding: 0 10px;\n  color: #fff;\n`;\n\nconst UserInfoView = ({ collapsed }) => {\n  const { loading, error, data } = useQuery(QUERY_ACCOUNT);\n  if (loading) return <LoadingView />;\n  if (error) return <ErrorView />;\n  const { account: { user_name } } = data;\n  return (\n    <UserView collapsed={collapsed}>\n      <Avatar style={{ backgroundColor: '#f56a00' }} icon=\"user\" />\n      {\n        collapsed ? null : (\n          <InfoView>\n            <span style={{ fontSize: '16px', lineHeight: '18px' }}>\n              {user_name}\n            </span>\n            <span style={{ fontSize: '12px' }}>欢迎您！</span>\n          </InfoView>\n        )\n      }\n    </UserView>\n  );\n};\n\nconst LeftSider = ({ collapsed }) => {\n  const { loading, error, data } = useQuery(QUERY_ACCOUNT);\n  if (loading) return <LoadingView />;\n  if (error) return <ErrorView />;\n  const { account: { auth: { admin, match, user } } } = data;\n  // 退出登录\n  const onSignOut = () => {\n    Modal.confirm({\n      title: '提示',\n      content: '确定要退出登录？',\n      onOk() {\n        localStorage.removeItem(LOCAL_STORAGE_KEY.AUTH_TOKEN);\n        history.replace(routers.signIn);\n      },\n      onCancel() {},\n    });\n  };\n  return (\n    <Layout.Sider trigger={null} collapsible collapsed={collapsed}>\n      <UserInfoView collapsed={collapsed} />\n      <Menu theme=\"dark\" mode=\"inline\" defaultSelectedKeys={[window.location.pathname]} defaultOpenKeys={['match']}>\n        {\n          match ? (\n            <Menu.SubMenu\n              key=\"match\"\n              title={(\n                <span>\n                  <Icon type=\"fire\" />\n                  <span>比赛管理</span>\n                </span>\n              )}\n            >\n              <Menu.Item key={routers.matchList}>\n                <Link to={routers.matchList}>今日比赛</Link>\n              </Menu.Item>\n              <Menu.Item key={routers.matchHistory}>\n                <Link to={routers.matchHistory}>历史比赛</Link>\n              </Menu.Item>\n              <Menu.Item key={routers.gameType}>\n                <Link to={routers.gameType}>比赛类别</Link>\n              </Menu.Item>\n            </Menu.SubMenu>\n          ) : null\n        }\n        {\n          user ? (\n            <Menu.SubMenu\n              key=\"user\"\n              title={(\n                <span>\n                  <Icon type=\"dollar\" />\n                  <span>用户投注</span>\n                </span>\n              )}\n            >\n              <Menu.Item key={routers.userList}>\n                <Link to={routers.userList}>用户列表</Link>\n              </Menu.Item>\n              <Menu.Item key={routers.pointList}>\n                <Link to={routers.pointList}>积分列表</Link>\n              </Menu.Item>\n            </Menu.SubMenu>\n          ) : null\n        }\n        {\n          admin ? (\n            <Menu.SubMenu\n              key=\"auth\"\n              title={(\n                <span>\n                  <Icon type=\"team\" />\n                  <span>管理员</span>\n                </span>\n              )}\n            >\n              <Menu.Item key={routers.operator}>\n                <Link to={routers.operator}>管理员列表</Link>\n              </Menu.Item>\n            </Menu.SubMenu>\n          ) : null\n        }\n        <Menu.SubMenu\n          key=\"account\"\n          title={(\n            <span>\n              <Icon type=\"user\" />\n              <span>个人中心</span>\n            </span>\n          )}\n        >\n          <Menu.Item key={routers.changPW}>\n            <Link to={routers.changPW}>修改密码</Link>\n          </Menu.Item>\n          <Menu.Item\n            key=\"account_loginout\"\n            onClick={onSignOut}\n          >\n            退出登录\n          </Menu.Item>\n        </Menu.SubMenu>\n      </Menu>\n    </Layout.Sider>\n  );\n};\n\nUserInfoView.defaultProps = {\n  collapsed: true,\n};\n\nUserInfoView.propTypes = {\n  collapsed: PropTypes.bool,\n};\n\nLeftSider.defaultProps = {\n  collapsed: true,\n};\n\nLeftSider.propTypes = {\n  collapsed: PropTypes.bool,\n};\n\nexport default LeftSider;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Layout } from 'antd';\n// components\nimport HeaderView from './HeaderView';\nimport LeftSider from './LeftSider';\n\nconst { Content } = Layout;\n\n\nconst LayoutView = ({ inComponent }) => {\n  const [collapsed, setCollapsed] = useState(false);\n  return (\n    <Layout style={{ minHeight: '100vh' }}>\n      <LeftSider collapsed={collapsed} />\n      <Layout>\n        <HeaderView collapsed={collapsed} onCollapse={() => setCollapsed(!collapsed)} />\n        <Content>\n          {inComponent}\n        </Content>\n      </Layout>\n    </Layout>\n  );\n};\n\nLayoutView.defaultProps = {\n  inComponent: null,\n};\n\nLayoutView.propTypes = {\n  inComponent: PropTypes.node,\n};\n\nexport default LayoutView;\n","import { gql } from 'apollo-boost';\n// 登录\nexport const MUTATION_SIGNIN = gql`\n  mutation SignIn($username: String!, $password: String!) {\n    signIn(username: $username, password: $password) {\n      user_name\n      token\n    }\n  }\n`;\n// 修改密码\nexport const MUTATION_CHANGE_PASSWORD = gql`\n  mutation ChangePassword($password: String!, $newPassword: String!) {\n    changePassword(password: $password, newPassword: $newPassword) {\n      token\n      message\n    }\n  }\n`;\n// 创建管理员\nexport const MUTATION_OPERATOR = gql`\n  mutation CreateOperator($name: String!, $password: String!, $auth: AuthInput!) {\n    createOperator(name: $name, password: $password, auth: $auth) {\n      _id\n      user_name\n      create_at\n      update_at\n      auth {\n        admin\n        match\n        user\n      }\n    }\n  }\n`;\n// 修改管理员\nexport const MUTATION_OPERATOR_UPDATE = gql`\n  mutation UpdateOperator($id: ID!, $password: String, $auth: AuthInput) {\n    updateOperator(id: $id, password: $password, auth: $auth) {\n      id\n      token\n      message\n    }\n  }\n`;\n// 删除管理员\nexport const MUTATION_OPERATOR_DEL = gql`\n  mutation DelOperator($id: ID!) {\n    delOperator(id: $id) {\n      id\n      token\n      message\n    }\n  }\n`;\n// 创建比赛类别\nexport const MUTATION_MATCH_TYPE = gql`\n  mutation CreateMatchType($typeInput: MatchTypeInput!) {\n    createMatchType(typeInput: $typeInput) {\n      type_id\n      type_name\n      type_img\n      token\n    }\n  }\n`;\n// 修改比赛类别\nexport const MUTATION_MATCH_TYPE_UPDATE = gql`\nmutation UpdateMatchType($typeInput: MatchTypeInput!) {\n  updateMatchType(typeInput: $typeInput) {\n    type_id\n    type_name\n    type_img\n    token\n  }\n}\n`;\n// 删除比赛类别\nexport const MUTATION_MATCH_TYPE_DEL = gql`\n  mutation deleteMatchType($id: ID) {\n    deleteMatchType(id: $id) {\n      id,\n      token\n      message\n    }\n  }\n`;\n// 创建比赛\nexport const MUTATION_MATCH = gql`\n  mutation CreateMatch($matchInput: MatchInput!) {\n    createMatch(matchInput: $matchInput) {\n      _id\n      tournament\n      match_type {\n        type_id\n        type_name\n        type_img\n      }\n      match_round\n      match_time {\n        start_time\n      }\n      team_a {\n        team_name\n        team_img\n      }\n      team_b {\n        team_name\n        team_img\n      }\n      token\n    }\n  }\n`;\n// 修改比赛\nexport const MUTATION_MATCH_UPDATE = gql`\nmutation UpdateMatch($matchInput: MatchInput!) {\n  updateMatch(matchInput: $matchInput) {\n    _id\n    tournament\n    match_type {\n      type_id\n      type_name\n      type_img\n    }\n    match_round\n    match_time {\n      start_time\n    }\n    team_a {\n      team_name\n      team_img\n      odds\n    }\n    team_b {\n      team_name\n      team_img\n      odds\n    }\n    token\n  }\n}\n`;\n// 删除比赛\nexport const MUTATION_MATCH_DEL = gql`\n  mutation deleteMatch($id: ID!) {\n    deleteMatch(id: $id) {\n      id\n      token\n      message\n    }\n  }\n`;\n// 比赛结算\nexport const MUTATION_MATCH_CHECK = gql`\n  mutation checkMatch($id: ID!, $winTeam: String!, $endTime: String!, $rate: Int!) {\n    checkMatch(id: $id, winTeam: $winTeam, endTime: $endTime, rate: $rate) {\n      id\n      token\n      message\n    }\n  }\n`;\n// 手动修改积分\nexport const MUTATION_POINTS_MANUAL = gql`\n  mutation ManualPoint($user: PointUserInput!, $counts: Int!, $note: String) {\n    manualPoint(user: $user, counts: $counts, note: $note) {\n      token\n      message\n    }\n  }\n`;\n","/*\n * @Description: 登录页面\n * @Author: luke\n * @Date: 2019-12-25 15:05:21\n * @LastEditTime : 2020-01-07 14:39:01\n */\nimport React, { useState } from 'react';\nimport { useMutation } from '@apollo/react-hooks';\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\nimport {\n  Form, Icon, Input, Button,\n} from 'antd';\n// static resource\nimport LogoIcon from 'assets/images/logo.png';\n// graphql\nimport { MUTATION_SIGNIN } from 'graphql/Mutation';\n// constants\nimport { LOCAL_STORAGE_KEY } from 'constants/enum';\nimport routers from 'constants/routers';\n// utils\nimport history from 'utils/history';\n\nconst ContainerView = styled.div`\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  padding-bottom: 150px;\n  background-image: url('bg.svg');\n  background-repeat: no-repeat;\n  background-position: center 110px;\n  background-size: 100%;\n`;\n\nconst LogoImg = styled.img`\n  width: 120px;\n  height: 120px;\n`;\n\nconst FormView = styled(Form)`\n  width: 300px;\n\n  & i {\n    color: rgba(0,0,0,.25);\n  }\n`;\n\nconst SignInView = ({ form }) => {\n  const { getFieldDecorator, validateFields } = form;\n  const [loading, setLoading] = useState(false);\n  const [doSignIn] = useMutation(\n    MUTATION_SIGNIN,\n    {\n      update(cache, { data: { signIn } }) {\n        console.log('data', signIn);\n        console.log('cache', cache);\n        localStorage.setItem(LOCAL_STORAGE_KEY.AUTH_TOKEN, signIn.token);\n        setLoading(false);\n        history.replace(routers.root);\n      },\n    },\n  );\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    setLoading(true);\n    validateFields((err, values) => {\n      if (!err) {\n        doSignIn({ variables: values }).catch(() => {\n          setLoading(false);\n        });\n      }\n    });\n  };\n\n  return (\n    <ContainerView>\n      <LogoImg src={LogoIcon} alt=\"\" />\n      <FormView onSubmit={handleSubmit}>\n        <Form.Item>\n          {getFieldDecorator('username', {\n            rules: [{ required: true, message: '请输入用户名！' }],\n          })(\n            <Input\n              prefix={<Icon type=\"user\" />}\n              placeholder=\"用户名\"\n            />,\n          )}\n        </Form.Item>\n        <Form.Item>\n          {getFieldDecorator('password', {\n            rules: [{ required: true, message: '请输入密码！' }],\n          })(\n            <Input\n              prefix={<Icon type=\"lock\" />}\n              type=\"password\"\n              placeholder=\"密码\"\n            />,\n          )}\n        </Form.Item>\n        <Form.Item>\n          <Button\n            type=\"primary\"\n            htmlType=\"submit\"\n            style={{ width: '100%' }}\n            loading={loading}\n            disabled={loading}\n          >\n            登录\n          </Button>\n        </Form.Item>\n      </FormView>\n    </ContainerView>\n  );\n};\n\nSignInView.defaultProps = {\n  form: {\n    getFieldDecorator: () => null,\n    validateFields: () => null,\n  },\n};\n\nSignInView.propTypes = {\n  form: PropTypes.shape({\n    getFieldDecorator: PropTypes.func,\n    validateFields: PropTypes.func,\n  }),\n};\n\nconst SignInForm = Form.create()(SignInView);\n\nexport default SignInForm;\n","import React from 'react';\nimport { Result } from 'antd';\n\nfunction NoAuth() {\n  return (\n    <Result\n      status=\"403\"\n      title=\"403\"\n      subTitle=\"抱歉，你无权访问该页面。\"\n      // extra={<Button type=\"primary\">重新登录</Button>}\n    />\n  );\n}\n\nexport default NoAuth;\n","import React from 'react';\nimport { Result, Button } from 'antd';\nimport history from 'utils/history';\nimport routers from 'constants/routers';\n\nfunction NoFound() {\n  return (\n    <Result\n      status=\"404\"\n      title=\"404\"\n      subTitle=\"抱歉，你访问的页面不存在。\"\n      extra={<Button type=\"primary\" onClick={() => history.replace(routers.root)}>回到首页</Button>}\n    />\n  );\n}\n\nexport default NoFound;\n","/*\n * @Description: 修改密码\n * @Author: luke\n * @Date: 2019-12-30 19:42:17\n * @LastEditTime : 2020-01-06 19:42:10\n */\nimport React, { memo } from 'react';\nimport { useMutation } from '@apollo/react-hooks';\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\nimport {\n  Form, Icon, Input, Button, notification,\n} from 'antd';\n// graphql\nimport { MUTATION_CHANGE_PASSWORD } from 'graphql/Mutation';\n\nconst FormView = styled(Form)`\n  margin: 50px !important;\n  width: 300px;\n\n  & i {\n    color: rgba(0,0,0,.25);\n  }\n`;\n\nconst ChangePW = ({ form }) => {\n  const { getFieldDecorator, validateFields, getFieldValue } = form;\n  const [doPassword] = useMutation(\n    MUTATION_CHANGE_PASSWORD,\n    {\n      update(cache, { data }) {\n        console.log('data', data);\n        console.log('cache', cache);\n        notification.info({\n          message: '提示信息',\n          description: '修改密码成功！',\n        });\n      },\n    },\n  );\n  // 提交表单\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    validateFields((err, values) => {\n      if (!err) {\n        doPassword({ variables: values });\n      }\n    });\n  };\n\n  // 新密码校验，不能与原密码一样\n  const handleValidatorNew = (rule, val, callback) => {\n    if (!val) {\n      callback();\n    }\n    const validateResult = val !== getFieldValue('password'); // 自定义规则\n    if (!validateResult) {\n      callback('新密码不能和原密码相同！');\n    }\n    callback();\n  };\n\n  // 确认密码校验，两次密码必须一致\n  const handleValidatorRe = (rule, val, callback) => {\n    if (!val) {\n      callback();\n    }\n    const validateResult = val === getFieldValue('newPassword'); // 自定义规则\n    if (!validateResult) {\n      callback('两次输入密码不一致！');\n    }\n    callback();\n  };\n\n  return (\n    <FormView onSubmit={handleSubmit}>\n      <Form.Item>\n        {getFieldDecorator('password', {\n          rules: [{ required: true, message: '请输入原密码！' }],\n        })(\n          <Input\n            prefix={<Icon type=\"lock\" />}\n            type=\"password\"\n            placeholder=\"原密码\"\n          />,\n        )}\n      </Form.Item>\n      <Form.Item>\n        {getFieldDecorator('newPassword', {\n          rules: [{ required: true, message: '请输入密码！' }, { validator: handleValidatorNew }],\n        })(\n          <Input\n            prefix={<Icon type=\"lock\" />}\n            type=\"password\"\n            placeholder=\"新密码\"\n          />,\n        )}\n      </Form.Item>\n      <Form.Item>\n        {getFieldDecorator('rePassword', {\n          rules: [{ required: true, message: '请输入密码！' }, { validator: handleValidatorRe }],\n        })(\n          <Input\n            prefix={<Icon type=\"lock\" />}\n            type=\"password\"\n            placeholder=\"新密码\"\n          />,\n        )}\n      </Form.Item>\n      <Form.Item>\n        <Button type=\"primary\" htmlType=\"submit\" style={{ width: '100%' }}>\n          修改密码\n        </Button>\n      </Form.Item>\n    </FormView>\n  );\n};\n\nChangePW.defaultProps = {\n  form: {\n    getFieldDecorator: () => null,\n    validateFields: () => null,\n    getFieldValue: () => null,\n  },\n};\n\nChangePW.propTypes = {\n  form: PropTypes.shape({\n    getFieldDecorator: PropTypes.func,\n    validateFields: PropTypes.func,\n    getFieldValue: PropTypes.func,\n  }),\n};\n\nconst PasswordForm = Form.create()(ChangePW);\n\nexport default memo(PasswordForm);\n","import React, { memo } from 'react';\nimport { useQuery, useMutation } from '@apollo/react-hooks';\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\nimport { Modal, Button } from 'antd';\n// graphql\nimport { QUERY_MATCH_TYPES } from 'graphql/Query';\nimport { MUTATION_MATCH_TYPE_DEL } from 'graphql/Mutation';\n// constants\nimport { LOCAL_STORAGE_KEY } from 'constants/enum';\n// component\nimport LoadingView from 'components/common/LoadingView';\nimport ErrorView from 'components/common/ErrorView';\n\nconst ContainerView = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n`;\n\nconst ItemView = styled.div`\n  width: 25%;\n  min-width: 80px;\n  max-width: 150px;\n  text-align: center;\n  cursor: pointer;\n  position: relative;\n  & img {\n    max-width: 100%;\n  }\n  &:hover {\n    border: 1px solid #f00;\n  }\n  &:hover button{\n    display: block;\n  }\n`;\n\nconst EditButton = styled(Button)`\n  display: none;\n  position: absolute;\n  left: 30%;\n  transform: translateX(-50%);\n  bottom: 10px;\n`;\n\nconst DelButton = styled(Button)`\n  display: none;\n  position: absolute;\n  left: 70%;\n  transform: translateX(-50%);\n  bottom: 10px;\n`;\n\nconst TypeList = ({ onEdit }) => {\n  const {\n    loading, error, data, refetch,\n  } = useQuery(QUERY_MATCH_TYPES);\n  const [delMatchType] = useMutation(MUTATION_MATCH_TYPE_DEL);\n  if (loading) return <LoadingView />;\n  if (error) return <ErrorView />;\n  const { matchTypes } = data;\n  // console.log('matchTypes', matchTypes);\n  if (!matchTypes) return null;\n  return (\n    <ContainerView>\n      {\n        matchTypes.map((item) => (\n          <ItemView key={item.type_id}>\n            <img src={item.type_img} alt={item.type_name} />\n            <h3>{item.type_name}</h3>\n            <EditButton type=\"primary\" size=\"small\" onClick={() => onEdit(matchTypes.find((v) => v.type_id === item.type_id))}>\n              编辑\n            </EditButton>\n            <DelButton\n              type=\"danger\"\n              size=\"small\"\n              onClick={() => {\n                Modal.confirm({\n                  title: `确定要删除游戏类型：${item.type_name} 吗？`,\n                  okType: 'danger',\n                  onOk() {\n                    delMatchType({ variables: { id: item.type_id } })\n                      .then(({ data: { deleteMatchType: { token } } }) => {\n                        refetch();\n                        localStorage.setItem(LOCAL_STORAGE_KEY.AUTH_TOKEN, token);\n                      });\n                  },\n                });\n              }}\n            >\n              删除\n            </DelButton>\n          </ItemView>\n        ))\n      }\n    </ContainerView>\n  );\n};\n\nTypeList.defaultProps = {\n  onEdit: () => null,\n};\n\nTypeList.propTypes = {\n  onEdit: PropTypes.func,\n};\n\nexport default memo(TypeList);\n","import React, { useState } from 'react';\nimport { useMutation } from '@apollo/react-hooks';\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\nimport {\n  Form, Input, Icon, Button,\n} from 'antd';\n// graphql\nimport { MUTATION_MATCH_TYPE, MUTATION_MATCH_TYPE_UPDATE } from 'graphql/Mutation';\nimport { QUERY_MATCH_TYPES } from 'graphql/Query';\n// constants\nimport { LOCAL_STORAGE_KEY } from 'constants/enum';\n\nconst FormView = styled(Form)`\n  width: 50%;\n  min-width: 200px;\n  max-width: 500px;\n\n  & i {\n    color: rgba(0,0,0,.25);\n  }\n`;\n\nconst TypeEditForm = ({ form, editObj, onBack }) => {\n  const { getFieldDecorator, validateFields, resetFields } = form;\n  const [loading, setLoading] = useState(false);\n  const [createType] = useMutation(MUTATION_MATCH_TYPE, {\n    update(cache, { data: { createMatchType } }) {\n      // console.log('createMatchType', createMatchType);\n      localStorage.setItem(LOCAL_STORAGE_KEY.AUTH_TOKEN, createMatchType.token);\n      const { matchTypes } = cache.readQuery({ query: QUERY_MATCH_TYPES });\n      cache.writeQuery({\n        query: QUERY_MATCH_TYPES,\n        data: { matchTypes: matchTypes.concat([createMatchType]) },\n      });\n    },\n  });\n\n  const [updateType] = useMutation(MUTATION_MATCH_TYPE_UPDATE, {\n    update(cache, { data: { updateMatchType } }) {\n      // console.log('updateMatchType', updateMatchType);\n      localStorage.setItem(LOCAL_STORAGE_KEY.AUTH_TOKEN, updateMatchType.token);\n      const { matchTypes } = cache.readQuery({ query: QUERY_MATCH_TYPES });\n      cache.writeQuery({\n        query: QUERY_MATCH_TYPES,\n        data: {\n          matchTypes: matchTypes.map((item) => (item.type_id === updateMatchType.type_id ? updateMatchType : item)),\n        },\n      });\n    },\n  });\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    setLoading(true);\n    validateFields((err, values) => {\n      if (!err) {\n        let promise = null;\n        if (editObj) {\n          promise = updateType({ variables: { typeInput: { type_id: editObj.type_id, ...values } } });\n        } else {\n          promise = createType({ variables: { typeInput: values } });\n        }\n        promise.then(() => {\n          resetFields();\n          onBack();\n        }).finally(() => {\n          setLoading(false);\n        });\n      }\n    });\n  };\n\n  return (\n    <FormView onSubmit={handleSubmit}>\n      <Form.Item>\n        {getFieldDecorator('type_name', {\n          initialValue: editObj ? editObj.type_name : '',\n          rules: [{ required: true, message: '请输入比赛类别名称！' }],\n        })(\n          <Input\n            prefix={<Icon type=\"user\" />}\n            placeholder=\"比赛类别名称\"\n          />,\n        )}\n      </Form.Item>\n      <Form.Item>\n        {getFieldDecorator('type_img', {\n          initialValue: editObj ? editObj.type_img : '',\n          rules: [{ required: true, message: '请输入比赛类别图标地址！' }],\n        })(\n          <Input\n            prefix={<Icon type=\"lock\" />}\n            placeholder=\"比赛类别图标\"\n          />,\n        )}\n      </Form.Item>\n      <Form.Item>\n        <Button\n          style={{ width: '45%' }}\n          onClick={() => {\n            resetFields();\n            onBack();\n          }}\n        >\n          取消\n        </Button>\n        <Button\n          type=\"primary\"\n          htmlType=\"submit\"\n          style={{ width: '45%', marginLeft: '10%' }}\n          loading={loading}\n          disabled={loading}\n        >\n          { editObj ? '修改' : '新增'}\n        </Button>\n      </Form.Item>\n    </FormView>\n  );\n};\n\nTypeEditForm.defaultProps = {\n  form: {\n    getFieldDecorator: () => null,\n    validateFields: () => null,\n    resetFields: () => null,\n  },\n  editObj: null,\n  onBack: () => null,\n};\n\nTypeEditForm.propTypes = {\n  form: PropTypes.shape({\n    getFieldDecorator: PropTypes.func,\n    validateFields: PropTypes.func,\n    resetFields: PropTypes.func,\n  }),\n  editObj: PropTypes.shape({\n    type_id: PropTypes.string,\n    type_name: PropTypes.string,\n    type_img: PropTypes.string,\n  }),\n  onBack: PropTypes.func,\n};\n\nconst TypeEdit = Form.create()(TypeEditForm);\n\nexport default TypeEdit;\n","import React, { memo, useState } from 'react';\nimport { PageHeader, Button } from 'antd';\n// components\nimport TypeList from 'components/MatchType/TypeList';\nimport TypeEdit from 'components/MatchType/TypeEdit';\n\nconst GameType = () => {\n  const [showEdit, setShowEdit] = useState(false);\n  const [editObj, setEditObj] = useState(null);\n  const onEdit = (obj) => {\n    setEditObj(obj);\n    setShowEdit(true);\n  };\n  const onCreate = () => {\n    setEditObj(null);\n    setShowEdit(!showEdit);\n  };\n  return (\n    <PageHeader\n      title=\"比赛类别\"\n      subTitle=\"战队比赛所属类别\"\n      extra={[\n        <Button\n          key=\"1\"\n          type={showEdit ? '' : 'primary'}\n          onClick={onCreate}\n        >\n          { showEdit ? '返回' : '新增'}\n        </Button>,\n      ]}\n    >\n      {\n        showEdit ? (\n          <TypeEdit editObj={editObj} onBack={() => setShowEdit(false)} />\n        ) : (\n          <TypeList showEdit={showEdit} onEdit={onEdit} />\n        )\n      }\n    </PageHeader>\n  );\n};\n\nexport default memo(GameType);\n","import React, { memo, useState } from 'react';\nimport { useMutation } from '@apollo/react-hooks';\nimport { Modal, Slider, DatePicker } from 'antd';\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\nimport { MUTATION_MATCH_CHECK } from 'graphql/Mutation';\n\nconst CheckdeModal = styled(Modal)`\n  .ant-modal-body {\n    background: #4b4b4b;\n    color: #fff;\n  }\n`;\n\nconst BodyView = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n\nconst RowView = styled.div`\n  display: flex;\n  align-items: center;\n`;\n\nconst TeamView = styled.div`\n  cursor: pointer;\n  margin: 5px;\n  padding: 3px 10px;\n  border-radius: 5px;\n  position: relative;\n  &:hover {\n    border: 1px solid #f17171;\n  }\n  & img {\n    height: 50px;\n  }\n`;\n\nconst CheckedView = styled.div`\n  display: ${(props) => (props.isShow ? 'block' : 'none')};\n  position: absolute;\n  top: 0;\n  left: -1px;\n  right: -1px;\n  height: 100%;\n  border-radius: 5px;\n  border: 1px solid #f00;\n  &::after {\n    content: '';\n    position: absolute;\n    width: 0;\n    height: 0;\n    bottom: 0;\n    right: 0;\n    border: 10px solid transparent;\n    border-bottom: 10px solid #f00;\n    border-right: 10px solid #f00;\n  }\n`;\n\nconst ModalCheck = ({ visible, setVisible, match }) => {\n  console.log(visible, match);\n  const [doCheckMatch] = useMutation(MUTATION_MATCH_CHECK);\n  const [confirmLoading, setConfirmLoading] = useState(false);\n  const [winTeam, setWinTeam] = useState(null);\n  const [endTime, setEndTime] = useState(null);\n  const [rate, setRate] = useState(20);\n  if (!match) return null;\n\n  const handleOK = () => {\n    setConfirmLoading(true);\n    console.log('id', match._id, winTeam, endTime.format('x'), rate);\n    setTimeout(() => {\n      doCheckMatch({\n        variables: {\n          id: match._id,\n          winTeam,\n          rate,\n          endTime: endTime.format('x'),\n        },\n      }).then(() => {\n        setVisible(false);\n      }).catch((err) => {\n        console.log(err);\n      }).finally(() => {\n        setConfirmLoading(false);\n      });\n    }, 3000);\n  };\n\n  const handleCancel = () => {\n    setWinTeam(null);\n    setEndTime(null);\n    setRate(20);\n    setVisible(false);\n  };\n\n  return (\n    <CheckdeModal\n      title=\"比赛结算\"\n      visible={visible}\n      confirmLoading={confirmLoading}\n      onOk={handleOK}\n      onCancel={handleCancel}\n      okText=\"结算\"\n      okButtonProps={{ disabled: !winTeam || !endTime }}\n    >\n      <BodyView>\n        <RowView>\n          <div>选择获胜队伍：</div>\n          <TeamView onClick={() => setWinTeam(match.team_a.team_name)}>\n            <img src={match.team_a.team_img} alt=\"\" />\n            <span>{match.team_a.team_name}</span>\n            <CheckedView isShow={match.team_a.team_name === winTeam} />\n          </TeamView>\n          <span>VS</span>\n          <TeamView onClick={() => setWinTeam(match.team_b.team_name)}>\n            <img src={match.team_b.team_img} alt=\"\" />\n            <span>{match.team_b.team_name}</span>\n            <CheckedView isShow={match.team_b.team_name === winTeam} />\n          </TeamView>\n        </RowView>\n        <RowView>\n          <span>比赛结算时间：</span>\n          <DatePicker\n            showTime\n            placeholder=\"请选择比赛结算时间\"\n            defaultValue={endTime}\n            onChange={(time) => setEndTime(time)}\n          />\n        </RowView>\n        <RowView>\n          <span>抽成比例：</span>\n          <Slider\n            min={0}\n            max={100}\n            step={1}\n            style={{ width: '75%' }}\n            value={rate}\n            onChange={(value) => setRate(value)}\n          />\n          <strong>%</strong>\n        </RowView>\n      </BodyView>\n    </CheckdeModal>\n  );\n};\n\nModalCheck.defaultProps = {\n  visible: false,\n  setVisible: () => null,\n  match: null,\n};\n\nModalCheck.propTypes = {\n  visible: PropTypes.bool,\n  setVisible: PropTypes.func,\n  match: PropTypes.objectOf(PropTypes.any),\n};\n\n\nexport default memo(ModalCheck);\n","import React, { memo, useState, useCallback } from 'react';\nimport { useQuery, useMutation } from '@apollo/react-hooks';\nimport moment from 'moment';\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\nimport { Modal, Button } from 'antd';\n// graphql\nimport { QUERY_MATCHES } from 'graphql/Query';\nimport { MUTATION_MATCH_DEL } from 'graphql/Mutation';\n// constants\nimport { LOCAL_STORAGE_KEY, MATCH_STATUS, MATCH_STATUS_KEYS } from 'constants/enum';\n// component\nimport LoadingView from 'components/common/LoadingView';\nimport ErrorView from 'components/common/ErrorView';\nimport ModalCheck from 'components/MatchList/ModalCheck';\n\nconst ColumnView = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n\nconst ItemView = styled.div`\n  cursor: pointer;\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  flex-wrap: wrap;\n  background: #4b4b4c;\n  color: #fff;\n  border: 1px solid;\n  margin: 5px 0;\n  min-height: 100px;\n  & img {\n    max-width: 100%;\n  }\n`;\n\nconst TypeImg = styled.img`\n  width: 50px;\n  margin: 10px;\n`;\n\nconst InfoView = styled(ColumnView)`\n  margin: 5px 10px;\n  min-width: 100px;\n  & span:last-child {\n    font-size: 12px;\n    color: #c79f98;\n  }\n`;\n\nconst TeamContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin: 5px 10px;\n  padding: 5px 10px;\n  min-width: 150px;\n  & img {\n    width: 50px;\n  }\n`;\n\nconst TeamName = styled.span`\n  color: #bacef1;\n  font-size: 16px;\n  min-width: 70px;\n`;\n\nconst TeamBetSum = styled.span`\n  font-size: 18px;\n  color: #eeff00;\n`;\n\nconst StatusView = styled.div`\n  font-size: 12px;\n  & p {\n    margin: 0;\n  }\n`;\n\nconst ListView = ({ onEdit }) => {\n  const {\n    loading, error, data, refetch,\n  } = useQuery(QUERY_MATCHES, { pollInterval: 5000 });\n  const [visible, setVisible] = useState(false);\n  const [selectMatch, setSelectMatch] = useState(null);\n\n  const TimeView = useCallback(({ time }) => {\n    const timeMoment = moment(Number.parseInt(time, 10));\n    const timeText = timeMoment.format('HH:mm');\n    return (\n      <div style={{ fontSize: '22px' }}>{timeText}</div>\n    );\n  }, []);\n\n  const TeamView = useCallback(({ team }) => {\n    if (!team) return null;\n    return (\n      <TeamContainer>\n        <div>\n          <img src={team.team_img} alt=\"\" />\n          <TeamName>{team.team_name}</TeamName>\n        </div>\n        <div>\n          <span style={{ fontSize: '12px' }}>{`赔率：${team.odds}`}</span>\n        </div>\n        <div>\n          <span style={{ fontSize: '12px' }}>总投注：</span>\n          <TeamBetSum>{team.sum_points}</TeamBetSum>\n        </div>\n      </TeamContainer>\n    );\n  }, []);\n\n  const [delMatchType] = useMutation(MUTATION_MATCH_DEL);\n  if (loading) return <LoadingView />;\n  if (error) return <ErrorView />;\n  const { matches } = data;\n  // console.log('matchTypes', matchTypes);\n  if (!matches) return null;\n\n  const handleCheck = (item) => {\n    setSelectMatch(item);\n    setVisible(true);\n  };\n\n  const handleDel = (item) => {\n    Modal.confirm({\n      title: `确定要删除比赛：${item.team_a.team_name} - ${item.team_b.team_name} 吗？`,\n      okType: 'danger',\n      onOk() {\n        delMatchType({ variables: { id: item._id } })\n          .then(({ data: { deleteMatch: { token } } }) => {\n            refetch();\n            localStorage.setItem(LOCAL_STORAGE_KEY.AUTH_TOKEN, token);\n          });\n      },\n    });\n  };\n\n  return (\n    <ColumnView>\n      <ModalCheck visible={visible} setVisible={setVisible} match={selectMatch} />\n      {\n        matches.map((item) => (\n          <ItemView key={item._id}>\n            <TypeImg src={item.match_type.type_img} alt=\"\" />\n            <TimeView time={item.match_time.start_time} />\n            <InfoView>\n              <span>{item.tournament}</span>\n              <span>{item.match_round}</span>\n            </InfoView>\n            <TeamView team={item.team_a} />\n            <section>\n              <strong style={{ fontSize: '20px', color: '#6f8abb' }}>VS</strong>\n            </section>\n            <TeamView team={item.team_b} />\n            <StatusView>\n              <p style={{ fontSize: '14px' }}>{`状态：${MATCH_STATUS[item.status]}`}</p>\n              {\n                item.status === MATCH_STATUS_KEYS[1] ? (\n                  <>\n                    <p>{`\b胜利：${item.check.sum_win}`}</p>\n                    <p>{`\b失败：${item.check.sum_lost}`}</p>\n                    <p>{`\b取消：${item.check.sum_cancel}`}</p>\n                  </>\n                ) : null\n              }\n            </StatusView>\n            <ColumnView>\n              <Button\n                type=\"primary\"\n                size=\"small\"\n                onClick={() => onEdit(item)}\n              >\n                编辑\n              </Button>\n              {\n                item.status === MATCH_STATUS_KEYS[0] ? (\n                  <Button\n                    type=\"default\"\n                    size=\"small\"\n                    style={{ marginTop: '5px' }}\n                    onClick={() => handleCheck(item)}\n                  >\n                    结算\n                  </Button>\n                ) : null\n              }\n              <Button\n                type=\"danger\"\n                size=\"small\"\n                style={{ marginTop: '5px' }}\n                onClick={() => handleDel(item)}\n              >\n                删除\n              </Button>\n            </ColumnView>\n          </ItemView>\n        ))\n      }\n    </ColumnView>\n  );\n};\n\nListView.defaultProps = {\n  onEdit: () => null,\n};\n\nListView.propTypes = {\n  onEdit: PropTypes.func,\n};\n\nexport default memo(ListView);\n","/* eslint-disable react/prop-types */\nimport React from 'react';\nimport { Input, InputNumber } from 'antd';\n\nconst TeamInput = (props, ref) => {\n  const { value, onChange } = props;\n  const triggerChange = (changedValue) => {\n    if (onChange) {\n      onChange({\n        ...value,\n        ...changedValue,\n      });\n    }\n  };\n  const handleNameChange = (e) => {\n    triggerChange({ team_name: e.target.value || '' });\n  };\n  const handleImgChange = (e) => {\n    triggerChange({ team_img: e.target.value || '' });\n  };\n  const handleOddsChange = (v) => {\n    triggerChange({ odds: v || 1.0 });\n  };\n\n  return (\n    <div>\n      <Input\n        ref={ref}\n        value={value.team_name}\n        onChange={handleNameChange}\n        placeholder=\"请输入战队名称\"\n      />\n      <Input\n        ref={ref}\n        value={value.team_img}\n        onChange={handleImgChange}\n        placeholder=\"请输入战队图标地址\"\n      />\n      <InputNumber\n        ref={ref}\n        min={0}\n        max={10}\n        step={0.01}\n        value={value.odds}\n        onChange={handleOddsChange}\n        placeholder=\"赔率\"\n      />\n    </div>\n  );\n};\n\nexport default TeamInput;\n","/* eslint-disable react/prop-types */\nimport React from 'react';\nimport { useQuery } from '@apollo/react-hooks';\nimport { Select } from 'antd';\n// graphql\nimport { QUERY_MATCH_TYPES } from 'graphql/Query';\n// component\nimport LoadingView from 'components/common/LoadingView';\nimport ErrorView from 'components/common/ErrorView';\n\nconst TypeSelect = (props, ref) => {\n  const { value, onChange } = props;\n  const { loading, error, data } = useQuery(QUERY_MATCH_TYPES);\n  if (loading) return <LoadingView />;\n  if (error) return <ErrorView />;\n  const { matchTypes } = data;\n  if (!matchTypes) return null;\n\n  const triggerChange = (changedValue) => {\n    if (onChange) {\n      onChange({\n        ...value,\n        ...changedValue,\n      });\n    }\n  };\n  const handleChange = (type_id) => {\n    const type = matchTypes.find((item) => item.type_id === type_id);\n    triggerChange(type);\n  };\n\n  return (\n    <Select\n      ref={ref}\n      placeholder=\"请选择比赛类型\"\n      defaultValue={value.type_id}\n      onChange={handleChange}\n    >\n      {\n        matchTypes.map((item) => (\n          <Select.Option key={item.type_id} value={item.type_id}>{item.type_name}</Select.Option>\n        ))\n      }\n    </Select>\n  );\n};\n\nexport default TypeSelect;\n","/* eslint-disable react/prop-types */\nimport React from 'react';\nimport { DatePicker } from 'antd';\nimport moment from 'moment';\n\nconst TimeSelect = (props, ref) => {\n  const { value, onChange } = props;\n  const triggerChange = (changedValue) => {\n    if (onChange) {\n      onChange({\n        ...value,\n        ...changedValue,\n      });\n    }\n  };\n  const handleChange = (time) => {\n    triggerChange({ start_time: time ? time.format('x') : null });\n  };\n\n  return (\n    <DatePicker\n      ref={ref}\n      showTime\n      placeholder=\"请选择比赛开始时间\"\n      defaultValue={value.start_time ? moment(Number.parseInt(value.start_time, 10)) : null}\n      onChange={handleChange}\n    />\n  );\n};\n\nexport default TimeSelect;\n","import React, { useState, forwardRef } from 'react';\nimport { useMutation } from '@apollo/react-hooks';\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\nimport {\n  Form, Input, Select, Button,\n} from 'antd';\n// graphql\nimport { MUTATION_MATCH, MUTATION_MATCH_UPDATE } from 'graphql/Mutation';\nimport { QUERY_MATCHES } from 'graphql/Query';\n// constants\nimport { LOCAL_STORAGE_KEY } from 'constants/enum';\n// components\nimport TeamInput from 'components/MatchList/TeamInput';\nimport TypeSelect from 'components/MatchList/TypeSelect';\nimport TimeSelect from 'components/MatchList/TimeSelect';\n\nconst TeamInptView = forwardRef(TeamInput);\nconst TypeSelectView = forwardRef(TypeSelect);\nconst TimeSelectView = forwardRef(TimeSelect);\n\nconst FormView = styled(Form).attrs({\n  labelCol: {\n    xs: { span: 24 },\n    sm: { span: 8 },\n  },\n  wrapperCol: {\n    xs: { span: 24 },\n    sm: { span: 16 },\n  },\n})`\n  width: 50%;\n  min-width: 200px;\n  max-width: 500px;\n\n  & i {\n    color: rgba(0,0,0,.25);\n  }\n`;\n\nconst EditViewForm = ({ form, editObj, onBack }) => {\n  const { getFieldDecorator, validateFields, resetFields } = form;\n  const [loading, setLoading] = useState(false);\n\n  const [doCreate] = useMutation(MUTATION_MATCH, {\n    update(cache, { data: { createMatch } }) {\n      // console.log('createMatch', createMatch);\n      localStorage.setItem(LOCAL_STORAGE_KEY.AUTH_TOKEN, createMatch.token);\n      const { matches } = cache.readQuery({ query: QUERY_MATCHES });\n      cache.writeQuery({\n        query: QUERY_MATCHES,\n        data: { matches: matches.concat([createMatch]) },\n      });\n    },\n  });\n\n  const [doUpdate] = useMutation(MUTATION_MATCH_UPDATE, {\n    update(cache, { data: { updateMatch } }) {\n      // console.log('updateMatchType', updateMatchType);\n      localStorage.setItem(LOCAL_STORAGE_KEY.AUTH_TOKEN, updateMatch.token);\n      const { matches } = cache.readQuery({ query: QUERY_MATCHES });\n      cache.writeQuery({\n        query: QUERY_MATCHES,\n        data: {\n          matches: matches.map((item) => (item._id === updateMatch._id ? { ...item, ...updateMatch } : item)),\n        },\n      });\n    },\n  });\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    setLoading(true);\n    validateFields((err, values) => {\n      console.log('submit values', values, editObj);\n      if (!err) {\n        let promise = null;\n        if (editObj) {\n          promise = doUpdate({ variables: { matchInput: { _id: editObj._id, ...values } } });\n        } else {\n          promise = doCreate({ variables: { matchInput: values } });\n        }\n        promise.then(() => {\n          resetFields();\n          onBack();\n        }).finally(() => {\n          setLoading(false);\n        });\n      }\n    });\n  };\n\n  // 游戏类型检查\n  const checkType = (rule, value, callback) => {\n    if (value.type_id && value.type_name) {\n      return callback();\n    }\n    callback('请选择比赛类型!');\n    return null;\n  };\n\n  // 时间检查\n  const checkTime = (rule, value, callback) => {\n    if (value.start_time) {\n      return callback();\n    }\n    callback('请选择比赛开始时间!');\n    return null;\n  };\n\n  // 战队检查\n  const checkTeam = (rule, value, callback) => {\n    if (value.team_name && value.team_img && value.odds) {\n      return callback();\n    }\n    callback('请输入战队信息!');\n    return null;\n  };\n\n  return (\n    <FormView onSubmit={handleSubmit}>\n      <Form.Item label=\"联赛名称：\">\n        {getFieldDecorator('tournament', {\n          initialValue: editObj ? editObj.tournament : '',\n          rules: [{ required: true, message: '请输入联赛名称！' }],\n        })(<Input placeholder=\"联赛名称\" />)}\n      </Form.Item>\n      <Form.Item label=\"比赛类型：\">\n        {getFieldDecorator('match_type', {\n          initialValue: editObj ? editObj.match_type : {},\n          rules: [{ required: true, validator: checkType }],\n        })(<TypeSelectView />)}\n      </Form.Item>\n      <Form.Item label=\"比赛赛制：\">\n        {getFieldDecorator('match_round', {\n          initialValue: editObj ? editObj.match_round : 'BO1',\n          rules: [{ required: true, message: '请输入比赛类别图标地址！' }],\n        })(\n          <Select>\n            <Select.Option value=\"BO1\">BO1</Select.Option>\n            <Select.Option value=\"BO3\">BO3</Select.Option>\n            <Select.Option value=\"BO5\">BO5</Select.Option>\n            <Select.Option value=\"BO7\">BO7</Select.Option>\n          </Select>,\n        )}\n      </Form.Item>\n      <Form.Item label=\"比赛时间：\">\n        {getFieldDecorator('match_time', {\n          initialValue: editObj ? editObj.match_time : {},\n          rules: [{ required: true, validator: checkTime }],\n        })(<TimeSelectView />)}\n      </Form.Item>\n      <Form.Item label=\"战队A：\">\n        {getFieldDecorator('team_a', {\n          initialValue: editObj ? editObj.team_a : {},\n          rules: [{ required: true, validator: checkTeam }],\n        })(<TeamInptView />)}\n      </Form.Item>\n      <Form.Item label=\"战队B：\">\n        {getFieldDecorator('team_b', {\n          initialValue: editObj ? editObj.team_b : {},\n          rules: [{ required: true, validator: checkTeam }],\n        })(<TeamInptView />)}\n      </Form.Item>\n      <Form.Item\n        wrapperCol={{\n          xs: { span: 24, offset: 0 },\n          sm: { span: 16, offset: 8 },\n        }}\n      >\n        <Button\n          style={{ width: '45%' }}\n          onClick={() => {\n            resetFields();\n            onBack();\n          }}\n        >\n          取消\n        </Button>\n        <Button\n          type=\"primary\"\n          htmlType=\"submit\"\n          style={{ width: '45%', marginLeft: '10%' }}\n          loading={loading}\n          disabled={loading}\n        >\n          { editObj ? '修改' : '新增'}\n        </Button>\n      </Form.Item>\n    </FormView>\n  );\n};\n\nEditViewForm.defaultProps = {\n  form: {\n    getFieldDecorator: () => null,\n    validateFields: () => null,\n    resetFields: () => null,\n  },\n  editObj: null,\n  onBack: () => null,\n};\n\nEditViewForm.propTypes = {\n  form: PropTypes.shape({\n    getFieldDecorator: PropTypes.func,\n    validateFields: PropTypes.func,\n    resetFields: PropTypes.func,\n  }),\n  editObj: PropTypes.objectOf(PropTypes.any),\n  onBack: PropTypes.func,\n};\n\nconst EditView = Form.create()(EditViewForm);\n\nexport default EditView;\n","import React, { memo, useState } from 'react';\nimport { PageHeader, Button } from 'antd';\n// components\nimport ListView from 'components/MatchList/ListView';\nimport EditView from 'components/MatchList/EditView';\n\nconst MatchList = () => {\n  const [showEdit, setShowEdit] = useState(false);\n  const [editObj, setEditObj] = useState(null);\n  const onEdit = (obj) => {\n    setEditObj(obj);\n    setShowEdit(true);\n  };\n  const onCreate = () => {\n    setEditObj(null);\n    setShowEdit(!showEdit);\n  };\n  return (\n    <PageHeader\n      title=\"比赛列表\"\n      subTitle=\"战队比赛列表\"\n      extra={[\n        <Button\n          key=\"1\"\n          type={showEdit ? '' : 'primary'}\n          onClick={onCreate}\n        >\n          { showEdit ? '返回' : '新增'}\n        </Button>,\n      ]}\n    >\n      {\n        showEdit ? (\n          <EditView editObj={editObj} onBack={() => setShowEdit(false)} />\n        ) : (\n          <ListView showEdit={showEdit} onEdit={onEdit} />\n        )\n      }\n    </PageHeader>\n  );\n};\n\nexport default memo(MatchList);\n","import React, { memo, useState, useCallback } from 'react';\nimport { Button, Input } from 'antd';\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\n\nconst ContainerView = styled.div`\n  display: flex;\n  align-items: center;\n`;\n\nconst ItemView = styled.div`\n  padding: 10px 10px 10px 0;\n`;\n\nconst Search = ({ setUserName }) => {\n  const [name, setName] = useState('');\n  const handleSearch = useCallback(() => {\n    setUserName(name);\n  }, [name, setUserName]);\n\n  return (\n    <ContainerView>\n      <ItemView>\n        <Input addonBefore=\"用户名：\" value={name} onChange={(e) => setName(e.target.value)} onPressEnter={handleSearch} />\n      </ItemView>\n      <Button type=\"primary\" onClick={handleSearch}>查询</Button>\n    </ContainerView>\n  );\n};\n\nSearch.defaultProps = {\n  setUserName: () => null,\n};\n\nSearch.propTypes = {\n  setUserName: PropTypes.func,\n};\n\nexport default memo(Search);\n","import moment from 'moment';\n\n// 格式化时间\nexport const formatTime = (timeStr, formatStr = 'YYYY-MM-DD HH:mm:ss') => {\n  if (!timeStr) return '';\n  if (!formatStr) return '';\n  const time = moment(Number.parseInt(timeStr, 10)).format(formatStr);\n  return time;\n};\n\n// 是否今天\nexport const isToday = (timeStr) => {\n  const result = moment(Number.parseInt(timeStr, 10)).isSame(moment(), 'd');\n  console.log('isToday result', result);\n  return result;\n};\n","import React from 'react';\nimport { Card, Button } from 'antd';\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\n// utils\nimport { formatTime } from 'utils/time';\n\nconst ContainerView = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n`;\n\nconst ItemCard = styled(Card)`\n\n`;\n\nconst ActionView = styled.div`\n\n`;\n\nconst Result = ({\n  data, setUser, setListVisible, setManualVisible,\n}) => {\n  if (!data) return null;\n  const { users } = data;\n  const handlePointList = (user) => {\n    setUser(user);\n    setListVisible(true);\n  };\n  const handleManual = (user) => {\n    setUser(user);\n    setManualVisible(true);\n  };\n  return (\n    <ContainerView>\n      {\n        users.map((item) => (\n          <ItemCard\n            key={item.from.id}\n            title={item.from.name}\n            extra={(\n              <Button\n                size=\"small\"\n                type=\"link\"\n                onClick={() => handlePointList(item)}\n              >\n                积分明细\n              </Button>\n            )}\n            actions={[\n              <ActionView onClick={() => handlePointList(item)}>积分明细</ActionView>,\n              <ActionView onClick={() => handleManual(item)}>积分管理</ActionView>,\n            ]}\n          >\n            <p>{`积分：${item.points.sum}`}</p>\n            <p>{`连续签到天数：${item.sign_day.day_num}`}</p>\n            <p>{`上次签到：${formatTime(item.sign_day.last_time)}`}</p>\n          </ItemCard>\n        ))\n      }\n    </ContainerView>\n  );\n};\n\nResult.defaultProps = {\n  data: null,\n  setUser: () => null,\n  setListVisible: () => null,\n  setManualVisible: () => null,\n};\n\nResult.propTypes = {\n  data: PropTypes.objectOf(PropTypes.any),\n  setUser: PropTypes.func,\n  setListVisible: PropTypes.func,\n  setManualVisible: PropTypes.func,\n};\n\nexport default Result;\n","import React from 'react';\nimport { Modal, Table } from 'antd';\nimport PropTypes from 'prop-types';\n// constants\nimport { POINT_TYPE } from 'constants/enum';\n// utils\nimport { formatTime } from 'utils/time';\n\nconst columns = [\n  {\n    title: '时间',\n    dataIndex: 'create_time',\n    render: (time) => formatTime(time),\n  },\n  {\n    title: '类型',\n    dataIndex: 'type',\n    render: (type) => POINT_TYPE[type],\n  },\n  {\n    title: '积分',\n    dataIndex: 'counts',\n    render: (counts) => <span style={{ color: counts > 0 ? 'red' : 'green' }}>{counts}</span>,\n  },\n  {\n    title: '备注',\n    dataIndex: 'note',\n  },\n  {\n    title: '操作人',\n    dataIndex: 'creater.name',\n  },\n];\n\nconst ModalList = ({ list, visible, setVisible }) => {\n  if (!list) return null;\n  const handleClose = () => {\n    setVisible(false);\n  };\n  return (\n    <Modal\n      title=\"积分明细\"\n      visible={visible}\n      onOk={handleClose}\n      onCancel={handleClose}\n    >\n      <Table columns={columns} dataSource={list} rowKey={(item, index) => item + index} pagination={false} />\n    </Modal>\n  );\n};\n\nModalList.defaultProps = {\n  list: [],\n  visible: false,\n  setVisible: () => null,\n};\n\nModalList.propTypes = {\n  list: PropTypes.arrayOf(PropTypes.any),\n  visible: PropTypes.bool,\n  setVisible: PropTypes.func,\n};\n\nexport default ModalList;\n","import React, { memo, useState } from 'react';\nimport { useMutation } from '@apollo/react-hooks';\nimport { Modal, Input, notification } from 'antd';\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\n// graphql\nimport { MUTATION_POINTS_MANUAL } from 'graphql/Mutation';\n// constants\nimport { LOCAL_STORAGE_KEY } from 'constants/enum';\n\nconst WhiteView = styled.div`\n  width: 100%;\n  height: 10px;\n`;\n\nconst ModalManual = ({\n  user, visible, refetch, setVisible,\n}) => {\n  const [confirmLoading, setConfirmLoading] = useState(false);\n  const [points, setPoints] = useState('');\n  const [note, setNote] = useState('');\n  const [doManual] = useMutation(MUTATION_POINTS_MANUAL);\n  if (!user) return null;\n  const handleOK = () => {\n    setConfirmLoading(true);\n    console.log('user', user);\n    doManual({ variables: { user: { id: user._id, name: user.from.name }, counts: Number.parseInt(points, 10), note } })\n      .then(({ data: { manualPoint: { token, message } } }) => {\n        localStorage.setItem(LOCAL_STORAGE_KEY.AUTH_TOKEN, token);\n        notification.success({\n          message: '操作成功',\n          description: message,\n        });\n        if (refetch) { refetch(); }\n        setPoints('');\n        setNote('');\n        setVisible(false);\n      })\n      .catch((err) => console.log(err))\n      .finally(() => {\n        setConfirmLoading(false);\n      });\n  };\n  const handleCancel = () => {\n    setVisible(false);\n  };\n  return (\n    <Modal\n      title=\"手动管理\"\n      visible={visible}\n      confirmLoading={confirmLoading}\n      onOk={handleOK}\n      onCancel={handleCancel}\n    >\n      <Input addonBefore=\"积分：\" placeholder=\"正数增加，负数减少\" type=\"number\" value={points} onChange={(e) => setPoints(e.target.value)} />\n      <WhiteView />\n      <Input addonBefore=\"备注：\" placeholder=\"请输入备注信息\" value={note} onChange={(e) => setNote(e.target.value)} />\n    </Modal>\n  );\n};\n\nModalManual.defaultProps = {\n  user: null,\n  visible: false,\n  refetch: () => null,\n  setVisible: () => null,\n};\n\nModalManual.propTypes = {\n  user: PropTypes.objectOf(PropTypes.any),\n  visible: PropTypes.bool,\n  refetch: PropTypes.func,\n  setVisible: PropTypes.func,\n};\n\nexport default memo(ModalManual);\n","import React, { memo, useState } from 'react';\nimport { useQuery } from '@apollo/react-hooks';\nimport { PageHeader } from 'antd';\n// components\nimport LoadingView from 'components/common/LoadingView';\nimport SearchView from 'components/User/Search';\nimport ResultView from 'components/User/Result';\nimport ModalList from 'components/User/ModalList';\nimport ModalManual from 'components/User/ModalManual';\n// graphql\nimport { QUERY_USERS } from 'graphql/Query';\n\nconst ListView = () => {\n  const [userName, setUserName] = useState('');\n  const [user, setUser] = useState(null);\n  const [listVisible, setListVisible] = useState(false);\n  const [manualVisible, setManualVisible] = useState(false);\n  const { loading, data, refetch } = useQuery(QUERY_USERS, {\n    variables: {\n      name: userName,\n    },\n    skip: false,\n    fetchPolicy: 'network-only',\n  });\n  return (\n    <PageHeader\n      title=\"用户列表\"\n      subTitle=\"管理用户积分\"\n    >\n      <SearchView setUserName={setUserName} refetch={refetch} />\n      {\n        loading ? <LoadingView /> : (\n          <>\n            <ResultView data={data} setUser={setUser} setListVisible={setListVisible} setManualVisible={setManualVisible} />\n            <ModalList list={user ? user.points.list : null} visible={listVisible} setVisible={setListVisible} />\n            <ModalManual user={user} visible={manualVisible} refetch={refetch} setVisible={setManualVisible} />\n          </>\n        )\n      }\n    </PageHeader>\n  );\n};\n\nexport default memo(ListView);\n","/* eslint-disable jsx-a11y/label-has-associated-control */\nimport React, { useState, useCallback } from 'react';\nimport {\n  Select, Input, Button,\n} from 'antd';\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\n// constants\nimport { POINT_TYPE, POINT_TYPE_KEYS } from 'constants/enum';\n\nconst { Option } = Select;\n\nconst ContainerView = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n`;\n\nconst ItemView = styled.div`\n  padding: 8px;\n  display: flex;\n  align-items: center;\n  &:first-child {\n    padding-left: 0;\n  }\n`;\n\nconst Search = ({ setSearchData, refetch }) => {\n  const [name, setName] = useState('');\n  const [type, setType] = useState([]);\n\n  const handleSearch = useCallback(() => {\n    setSearchData({\n      name,\n      type,\n    });\n    refetch();\n  }, [setSearchData, name, type, refetch]);\n\n  return (\n    <ContainerView>\n      <ItemView>\n        <label>用户名：</label>\n        <Input style={{ width: '150px' }} onChange={(e) => setName(e.target.value)} />\n      </ItemView>\n      <ItemView>\n        <label>积分类型：</label>\n        <Select\n          showArrow\n          style={{ minWidth: '100px' }}\n          mode=\"multiple\"\n          onChange={(value) => setType(value)}\n        >\n          {\n            POINT_TYPE_KEYS.map((key) => (\n              <Option key={key} value={key}>{POINT_TYPE[key]}</Option>\n            ))\n          }\n        </Select>\n      </ItemView>\n      <ItemView>\n        <Button\n          type=\"primary\"\n          onClick={handleSearch}\n        >\n          查询\n        </Button>\n      </ItemView>\n    </ContainerView>\n  );\n};\n\nSearch.defaultProps = {\n  setSearchData: () => null,\n  refetch: () => null,\n};\n\nSearch.propTypes = {\n  setSearchData: PropTypes.func,\n  refetch: PropTypes.func,\n};\n\nexport default Search;\n","import React from 'react';\nimport { Table, Pagination } from 'antd';\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\n// constants\nimport { POINT_TYPE } from 'constants/enum';\n// utils\nimport { formatTime } from 'utils/time';\n\nconst ContainerView = styled.div`\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n`;\n\nconst MyPagination = styled(Pagination)`\n  display: flex;\n  justify-content: flex-end;\n  margin-top: 20px !important;\n`;\n\nconst columns = [\n  {\n    title: '用户',\n    dataIndex: 'user.name',\n  },\n  {\n    title: '时间',\n    dataIndex: 'create_time',\n    render: (time) => formatTime(time),\n  },\n  {\n    title: '类型',\n    dataIndex: 'type',\n    render: (type) => POINT_TYPE[type],\n  },\n  {\n    title: '积分',\n    dataIndex: 'counts',\n    render: (counts) => <span style={{ color: counts > 0 ? 'red' : 'green' }}>{counts}</span>,\n  },\n  {\n    title: '备注',\n    dataIndex: 'note',\n  },\n  {\n    title: '操作人',\n    dataIndex: 'creater.name',\n  },\n];\n\nconst Result = ({ data, setCurrent, setPageSize }) => {\n  console.log('**** data', data);\n  if (!data) return null;\n  const {\n    points: {\n      list, current, total, pageSize,\n    },\n  } = data;\n  const handleChange = (pgCurrent, pgSize) => {\n    setCurrent(pgCurrent);\n    setPageSize(pgSize);\n  };\n  return (\n    <ContainerView>\n      <Table bordered columns={columns} dataSource={list} rowKey={(item) => item.create_time} pagination={false} />\n      <MyPagination current={current} total={total} pageSize={pageSize} hideOnSinglePage onChange={handleChange} />\n    </ContainerView>\n  );\n};\n\nResult.defaultProps = {\n  data: null,\n  setCurrent: () => null,\n  setPageSize: () => null,\n};\n\nResult.propTypes = {\n  data: PropTypes.objectOf(PropTypes.any),\n  setCurrent: PropTypes.func,\n  setPageSize: PropTypes.func,\n};\n\nexport default Result;\n","import React, { useState } from 'react';\nimport { useQuery } from '@apollo/react-hooks';\nimport { PageHeader } from 'antd';\nimport styled from 'styled-components';\n// graphql\nimport { QUERY_POINTS } from 'graphql/Query';\n// components\nimport SearchView from 'components/Point/Search';\nimport ResultView from 'components/Point/Result';\n\nconst ContainerView = styled.div`\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n`;\n\nconst ListView = () => {\n  const [current, setCurrent] = useState(1);\n  const [pageSize, setPageSize] = useState(10);\n  const [searchData, setSearchData] = useState({\n    name: '', type: [], current, pageSize,\n  });\n  const { data, refetch } = useQuery(QUERY_POINTS, {\n    variables: {\n      name: searchData.name,\n      type: searchData.type,\n      current,\n      pageSize,\n    },\n    skip: false,\n    fetchPolicy: 'network-only',\n  });\n  console.log('data', data);\n  return (\n    <PageHeader\n      title=\"积分列表\"\n      subTitle=\"用户积分记录\"\n    >\n      <ContainerView>\n        <SearchView setSearchData={setSearchData} refetch={refetch} />\n        <ResultView data={data} setCurrent={setCurrent} setPageSize={setPageSize} />\n      </ContainerView>\n    </PageHeader>\n  );\n};\n\nexport default ListView;\n","import React, { useState, useCallback } from 'react';\nimport { useQuery, useMutation } from '@apollo/react-hooks';\nimport {\n  Table, Input, Button, Checkbox, Divider, Popconfirm,\n} from 'antd';\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\n// graphql\nimport { QUERY_OPERATORS } from 'graphql/Query';\nimport { formatTime } from 'utils/time';\nimport { MUTATION_OPERATOR_DEL } from 'graphql/Mutation';\nimport { LOCAL_STORAGE_KEY } from 'constants/enum';\n\nconst ContainerView = styled.div`\n`;\n\nconst SearchView = styled.div`\n  display: flex;\n  align-items: center;\n`;\n\nconst ItemView = styled.div`\n  padding: 10px 10px 10px 0;\n`;\n\nconst ListView = ({ onEdit }) => {\n  const [name, setName] = useState('');\n  const [searchName, setSearchName] = useState('');\n  const { data: { operators } = {}, refetch } = useQuery(QUERY_OPERATORS, {\n    variables: {\n      name: searchName,\n    },\n    skip: false,\n    fetchPolicy: 'network-only',\n  });\n  const [doDelete] = useMutation(MUTATION_OPERATOR_DEL, {\n    update(cache, { data: { delOperator } }) {\n      console.log('delOperator', delOperator);\n      localStorage.setItem(LOCAL_STORAGE_KEY.AUTH_TOKEN, delOperator.token);\n      refetch();\n    },\n  });\n  console.log('operators', operators);\n  const handleDel = useCallback((item) => {\n    doDelete({ variables: { id: item._id } }).catch((err) => console.log(err));\n  }, [doDelete]);\n  const handleEdit = useCallback((item) => {\n    console.log('handleEdit', item);\n    onEdit(item);\n  }, [onEdit]);\n\n  const columns = [\n    {\n      title: '用户名',\n      dataIndex: 'user_name',\n    },\n    {\n      title: '注册时间',\n      dataIndex: 'create_at',\n      render: (item) => formatTime(item),\n    },\n    {\n      title: '最近登录',\n      dataIndex: 'update_at',\n      render: (item) => formatTime(item),\n    },\n    {\n      title: '权限',\n      dataIndex: 'auth',\n      render: (auth) => (\n        <>\n          <Checkbox checked={auth.admin} disabled>管理员</Checkbox>\n          <Checkbox checked={auth.match} disabled>比赛</Checkbox>\n          <Checkbox checked={auth.user} disabled>用户</Checkbox>\n        </>\n      ),\n    },\n    {\n      title: '操作',\n      key: 'action',\n      render: (item) => (\n        <>\n          <Button size=\"small\" type=\"primary\" onClick={() => handleEdit(item)}>编辑</Button>\n          <Divider type=\"vertical\" />\n          <Popconfirm\n            title={`你确定要删除管理员：${item.user_name}`}\n            onConfirm={() => handleDel(item)}\n          >\n            <Button size=\"small\" type=\"danger\">删除</Button>\n          </Popconfirm>\n        </>\n      ),\n    },\n  ];\n\n  const handleSearch = useCallback(() => {\n    setSearchName(name);\n  }, [name]);\n  return (\n    <ContainerView>\n      <SearchView>\n        <ItemView>\n          <Input addonBefore=\"用户名：\" value={name} onChange={(e) => setName(e.target.value)} onPressEnter={handleSearch} />\n        </ItemView>\n        <Button type=\"primary\" onClick={handleSearch}>查询</Button>\n      </SearchView>\n      <Table bordered columns={columns} dataSource={operators} rowKey={(item) => item._id} />\n    </ContainerView>\n  );\n};\n\nListView.defaultProps = {\n  onEdit: () => null,\n};\n\nListView.propTypes = {\n  onEdit: PropTypes.func,\n};\n\nexport default ListView;\n","/* eslint-disable jsx-a11y/label-has-associated-control */\nimport React, { useState, useCallback } from 'react';\nimport { useMutation } from '@apollo/react-hooks';\nimport { Input, Button, Checkbox } from 'antd';\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\n// graphql\nimport { MUTATION_OPERATOR, MUTATION_OPERATOR_UPDATE } from 'graphql/Mutation';\n// constants\nimport { LOCAL_STORAGE_KEY } from 'constants/enum';\n\nconst ContainerView = styled.div`\n  width: 400px;\n  padding: 20px 40px;\n`;\n\nconst ItemView = styled.div`\n  display: flex;\n  align-items: center;\n  margin: 10px 0;\n  & button {\n    width: 90px;\n  }\n`;\n\nconst LeftView = styled.div`\n  width: 80px;\n  text-align: right;\n  font-weight: bolder;\n`;\n\nconst RightView = styled.div`\n  margin-left: 20px;\n  display: flex;\n  flex-wrap: wrap;\n`;\n\nconst EditView = ({ editObj, onBack }) => {\n  const { user_name, auth: editAuth = {} } = editObj || {};\n  const [name, setName] = useState(user_name);\n  const [password, setPassword] = useState('');\n  const [auth, setAuth] = useState(editAuth);\n  const [loading, setLoading] = useState(false);\n  const [doCreate] = useMutation(MUTATION_OPERATOR);\n  const [doUpdate] = useMutation(MUTATION_OPERATOR_UPDATE, {\n    update(cache, { data: { updateOperator } }) {\n      localStorage.setItem(LOCAL_STORAGE_KEY.AUTH_TOKEN, updateOperator.token);\n    },\n  });\n  // 返回\n  const backReset = useCallback(() => {\n    setName('');\n    setPassword('');\n    setAuth({});\n    onBack();\n  }, [onBack]);\n  // 提交\n  const handleSubmit = useCallback(() => {\n    setLoading(true);\n    const promise = editObj ? doUpdate({\n      variables: {\n        id: editObj._id,\n        password,\n        auth,\n      },\n    }) : doCreate({\n      variables: {\n        name,\n        password,\n        auth,\n      },\n    });\n    promise\n      .then(() => { backReset(); })\n      .catch((err) => console.log(err))\n      .finally(() => { setLoading(false); });\n  }, [auth, backReset, doCreate, doUpdate, editObj, name, password]);\n  return (\n    <ContainerView>\n      <ItemView>\n        <LeftView>\n          <label>用户名：</label>\n        </LeftView>\n        <RightView>\n          {\n            editObj ? <label>{name}</label> : (\n              <Input placeholder=\"请输入用户名\" value={name} onChange={(e) => setName(e.target.value)} />\n            )\n          }\n        </RightView>\n      </ItemView>\n      <ItemView>\n        <LeftView>\n          <label>密码：</label>\n        </LeftView>\n        <RightView>\n          <Input placeholder=\"请输入密码\" value={password} onChange={(e) => setPassword(e.target.value)} />\n        </RightView>\n      </ItemView>\n      <ItemView>\n        <LeftView>\n          <label>权限：</label>\n        </LeftView>\n        <RightView>\n          <Checkbox checked={auth.admin} onChange={(e) => setAuth({ ...auth, admin: e.target.checked })}>管理员</Checkbox>\n          <Checkbox checked={auth.match} onChange={(e) => setAuth({ ...auth, match: e.target.checked })}>比赛</Checkbox>\n          <Checkbox checked={auth.user} onChange={(e) => setAuth({ ...auth, user: e.target.checked })}>用户</Checkbox>\n        </RightView>\n      </ItemView>\n      <ItemView>\n        <Button\n          style={{ marginLeft: '50px' }}\n          onClick={backReset}\n        >\n          取消\n        </Button>\n        <Button\n          type=\"primary\"\n          htmlType=\"submit\"\n          style={{ marginLeft: '20px' }}\n          loading={loading}\n          disabled={loading}\n          onClick={handleSubmit}\n        >\n          { editObj ? '修改' : '新增'}\n        </Button>\n      </ItemView>\n    </ContainerView>\n  );\n};\n\nEditView.defaultProps = {\n  editObj: {\n    user_name: '',\n    auth: {},\n  },\n  onBack: () => null,\n};\n\nEditView.propTypes = {\n  editObj: PropTypes.objectOf(PropTypes.any),\n  onBack: PropTypes.func,\n};\n\nexport default EditView;\n","import React, { useState } from 'react';\nimport { PageHeader, Button } from 'antd';\n// components\nimport ListView from 'components/Operator/ListView';\nimport EditView from 'components/Operator/EditView';\n\nconst OperatorList = () => {\n  const [showEdit, setShowEdit] = useState(false);\n  const [editObj, setEditObj] = useState(null);\n  const onEdit = (obj) => {\n    setEditObj(obj);\n    setShowEdit(true);\n  };\n  const onCreate = () => {\n    setEditObj(null);\n    setShowEdit(!showEdit);\n  };\n  return (\n    <PageHeader\n      title=\"比赛列表\"\n      subTitle=\"战队比赛列表\"\n      extra={[\n        <Button\n          key=\"1\"\n          type={showEdit ? '' : 'primary'}\n          onClick={onCreate}\n        >\n          { showEdit ? '返回' : '新增'}\n        </Button>,\n      ]}\n    >\n      {\n        showEdit ? (\n          <EditView editObj={editObj} onBack={() => setShowEdit(false)} />\n        ) : (\n          <ListView showEdit={showEdit} onEdit={onEdit} />\n        )\n      }\n    </PageHeader>\n  );\n};\n\nexport default OperatorList;\n","import React from 'react';\nimport { Router, Switch, Route } from 'react-router-dom';\nimport { useQuery } from '@apollo/react-hooks';\n// graphql\nimport { QUERY_ACCOUNT } from 'graphql/Query';\n// constants\nimport routers from 'constants/routers';\n// utils\nimport history from 'utils/history';\n// components\nimport LayoutView from 'pages/Layout/LayoutView';\nimport LoadingView from 'components/common/LoadingView';\nimport SignInView from 'pages/Auth/SignIn';\nimport NoAuth from 'pages/Result/NoAuth';\nimport NoFound from 'pages/Result/NoFound';\nimport ChangePWView from 'pages/Account/ChangePW';\nimport GameType from 'pages/Match/GameType';\nimport MatchList from 'pages/Match/MatchList';\nimport UserList from 'pages/User/ListView';\nimport PointList from 'pages/Point/ListView';\nimport OperatorList from 'pages/Operator/OperatorList';\n\nfunction App() {\n  const {\n    data: { account: { auth: { admin, match, user } } } = { account: { auth: { admin: false, match: false, user: false } } },\n    loading,\n  } = useQuery(QUERY_ACCOUNT);\n  if (loading) return <LoadingView />;\n  return (\n    <Router history={history}>\n      <Switch>\n        {/* 登录 */}\n        <Route path={routers.signIn}>\n          <SignInView />\n        </Route>\n        {/* 首页 */}\n        <Route path={routers.root} exact>\n          <LayoutView inComponent={match ? <MatchList /> : <NoAuth />} />\n        </Route>\n        {/* 修改密码 */}\n        <Route path={routers.changPW}>\n          <LayoutView inComponent={<ChangePWView />} />\n        </Route>\n        {/* 比赛列表 */}\n        <Route path={routers.matchList}>\n          <LayoutView inComponent={match ? <MatchList /> : <NoAuth />} />\n        </Route>\n        {/* 比赛类型 */}\n        <Route path={routers.gameType}>\n          <LayoutView inComponent={match ? <GameType /> : <NoAuth />} />\n        </Route>\n        {/* 用户列表 */}\n        <Route path={routers.userList}>\n          <LayoutView inComponent={user ? <UserList /> : <NoAuth />} />\n        </Route>\n        {/* 投注列表 */}\n        <Route path={routers.pointList}>\n          <LayoutView inComponent={user ? <PointList /> : <NoAuth />} />\n        </Route>\n        {/* 管理员列表 */}\n        <Route path={routers.operator}>\n          <LayoutView inComponent={admin ? <OperatorList /> : <NoAuth />} />\n        </Route>\n        <Route path={routers.root}>\n          <LayoutView inComponent={<NoFound />} />\n        </Route>\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost'\n    // [::1] is the IPv6 localhost address.\n    || window.location.hostname === '[::1]'\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    || window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n    ),\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service '\n              + 'worker. To learn more, visit https://bit.ly/CRA-PWA',\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all '\n                  + 'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404\n        || (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.',\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport ApolloClient, { InMemoryCache } from 'apollo-boost';\nimport { ApolloProvider } from '@apollo/react-hooks';\nimport zhCN from 'antd/es/locale/zh_CN';\nimport { notification, ConfigProvider } from 'antd';\n// config\nimport { ApiUrl, device } from 'config/index';\n// constants\nimport routers from 'constants/routers';\nimport { LOCAL_STORAGE_KEY } from 'constants/enum';\n// utils\nimport history from 'utils/history';\n// components\nimport './index.css';\nimport App from './App';\n// serviceWorker\nimport * as serviceWorker from './serviceWorker';\n\nconst cache = new InMemoryCache({ addTypename: false });\nconst client = new ApolloClient({\n  cache,\n  uri: ApiUrl,\n  request: (operation) => {\n    const token = localStorage.getItem(LOCAL_STORAGE_KEY.AUTH_TOKEN) || '';\n    operation.setContext({\n      headers: {\n        device,\n        authorization: `Bearer ${token}`,\n      },\n    });\n  },\n  onError: ({ graphQLErrors, response }) => {\n    console.log('graphQLErrors', graphQLErrors);\n    console.log('Response Error', response);\n    if (graphQLErrors) {\n      const err = graphQLErrors[0];\n      console.log('err', err);\n      const { code, message } = err;\n      console.log('code', code, 'message', message);\n      if (code === 'UNAUTHENTICATED') {\n        history.replace(routers.signIn);\n      }\n      notification.error({\n        message: '错误信息',\n        description: message,\n      });\n    }\n  },\n});\n\nReactDOM.render(\n  <ApolloProvider client={client}>\n    <ConfigProvider locale={zhCN}>\n      <App />\n    </ConfigProvider>\n  </ApolloProvider>,\n  document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}